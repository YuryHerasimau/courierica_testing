# Courierica Testing Framework ğŸš€
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

## Overview ğŸ‘€

Courierica Testing Framework is an API testing framework designed to automate testing for courier-related services. 
It supports end-to-end (E2E) testing, validation of API responses, and integration testing for various microservices.

This framework helps to:
* Ensure API stability and reliability
* Automate complex testing scenarios
* Save time and reduce costs by catching issues early
* Enable Continuous Integration (CI) and Continuous Deployment (CD)

## Project structure ğŸ—‚ï¸

```
courierica_testing/
â”œâ”€â”€ allure-report/                          # Allure test reports
â”œâ”€â”€ allure-results/                         # Allure test results
â”œâ”€â”€ data/                                   # Data models and constants
â”‚   â”œâ”€â”€ company_dataclass.py                # Company data model
â”‚   â”œâ”€â”€ delivery_dataclass.py               # Delivery data model
â”‚   â”œâ”€â”€ endpoints.py                        # API endpoints
â”œâ”€â”€ generator/                              # Data generators
â”‚   â”œâ”€â”€ base_generator.py                   # Base data generator (uses Faker)
â”‚   â”œâ”€â”€ company_generator.py                # Company data generator
â”‚   â”œâ”€â”€ delivery_generator.py               # Delivery data generator
â”œâ”€â”€ logs/                                   # Log storage
â”‚   â”œâ”€â”€ logs.log                            # Main log file
â”œâ”€â”€ services/                               # API service interactions
â”‚   â”œâ”€â”€ auth_service.py                     # Authentication and token management
â”‚   â”œâ”€â”€ delivery_service.py                 # Delivery operations
â”‚   â”œâ”€â”€ courier_service.py                  # Courier operations
â”‚   â”œâ”€â”€ company_service.py                  # Company management
â”‚   â”œâ”€â”€ pickup_point_service.py             # Pickup points management
â”‚   â”œâ”€â”€ route_service.py                    # Route planning
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ prepare_data/                       # Data preparation utilities
â”‚   â”‚   â”œâ”€â”€ prepare_basic_data.py           # General data preparation
â”‚   â”‚   â”œâ”€â”€ prepare_company_data.py         # Company data preparation
â”‚   â”‚   â”œâ”€â”€ prepare_delivery_data.py        # Delivery data preparation
â”‚   â”œâ”€â”€ schemas/                            # API response validation schemas
â”‚   â”‚   â”œâ”€â”€ company_request_schema.py
â”‚   â”‚   â”œâ”€â”€ company_response_schema.py
â”‚   â”‚   â”œâ”€â”€ delivery_request_schema.py
â”‚   â”‚   â”œâ”€â”€ delivery_response_schema.py
â”‚   â”œâ”€â”€ assertions.py                       # Assertion helpers
â”‚   â”œâ”€â”€ http_methods.py                     # HTTP request utilities
â”‚   â”œâ”€â”€ logger.py                           # Logging setup
â”‚   â”œâ”€â”€ validator.py                        # Response validation
â”œâ”€â”€ tests/                                  # Test suites
â”‚   â”œâ”€â”€ e2e/                                # End-to-End tests
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ geo_updates.json
â”‚   â”‚   â”‚   â”œâ”€â”€ order_data.py
â”‚   â”‚   â”œâ”€â”€ test_delivery_courier_flow.py
â”‚   â”œâ”€â”€ test_company/                       # Company API tests
â”‚   â”‚   â”œâ”€â”€ test_create_company.py
â”‚   â”‚   â”œâ”€â”€ test_update_company.py
â”‚   â”‚   â”œâ”€â”€ test_get_company.py
â”‚   â”‚   â”œâ”€â”€ test_get_companies.py
â”‚   â”œâ”€â”€ test_delivery/                      # Delivery API tests
â”‚   â”‚   â”œâ”€â”€ test_create_delivery.py
â”œâ”€â”€ .gitignore                              # Ignore files for Git
â”œâ”€â”€ conftest.py                             # Pytest fixtures
â”œâ”€â”€ functions.py                            # Helper functions
â”œâ”€â”€ pytest.ini                              # Pytest configuration
â”œâ”€â”€ requirements.txt                        # Dependencies
â””â”€â”€ settings.py                             # Global settings
```

# Technologies Used â­

* `Python 3.x` â€“ Main programming language
* `pytest` â€“ Testing framework
* `httpx` â€“ Asynchronous HTTP client for API calls
* `pydantic` â€“ Data validation and serialization
* `allure-pytest` â€“ Test reporting
* `python-dotenv` â€“ Environment variable management
* `Faker` â€“ Fake data generation

# Getting Started

## Installation ğŸ±â€ğŸ’»

Clone the repository:
``` bash
git clone https://github.com/YuryHerasimau/courierica_testing.git
cd courierica_testing
```

Create and activate a virtual environment:
``` bash
python -m venv env
source env/bin/activate  # On Windows use: env\Scripts\activate
```

Install dependencies:
``` bash
pip install -r requirements.txt
```

## Running Tests ğŸ§ª

Run all tests:
``` bash
pytest -s -v --alluredir=allure-results
```

Run a specific test suite:
``` bash
pytest tests/test_company
```

Run a specific test:
``` bash
pytest -k test_multiple_deliveries_routing_flow
```

## Generate Allure Report ğŸ§¾

To generate the Allure report, you can use the following command:

```bash
allure generate allure-results -o allure-report --clean
```

After generating the report, you can view it by opening the index.html file in the [allure-report](allure-report) directory or by serving it with:

```bash
allure open allure-report
```

Alternatively, you can serve the report directly from the results directory using:

``` bash
allure serve allure-results
```

## CI/CD Integration ğŸŒ

The framework is designed to run on CI/CD pipelines (e.g., GitHub Actions, GitLab CI, Jenkins):
* Automated test execution after each commit
* Allure reports for easy debugging
* Parallel test execution to speed up validation

Example GitHub Actions workflow:
``` yaml
name: API Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt
      - name: Run tests
        run: pytest --alluredir=allure-results
      - name: Upload Allure Report
        uses: actions/upload-artifact@v3
        with:
          name: allure-results
          path: allure-results
```

# Time â±ï¸ & Cost Savings ğŸ’¸

Automating tests with this framework results in:

* âœ… Faster bug detection â€“ Immediate feedback on API changes
* âœ… Reduced manual testing effort â€“ Save QA engineering hours
* âœ… Lower downtime costs â€“ Catch critical errors before production
* âœ… Efficient debugging â€“ Detailed logs and Allure reports simplify issue tracking

# Contact ğŸ“§

For questions or contributions, reach out to `yl.herasimau@gmail.com`.

